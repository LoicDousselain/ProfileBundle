{% extends 'AppBundle::layout.html.twig' %}

{% block title %}
 {# {{ parent() }} | {{ 'index.pageTitle'|trans({}, 'messages') }} #}
 {{ parent() }} | Home
{% endblock %}

{% block body %}
    <div class="container">
        {{ dump(user) }}
            <h2>Bienvenue {{ user.username }}</h2>
            {% if user.userProfiles is empty %}
                <div class="alert alert-warning">
                    <p> Vous n'avez pas de profil actuellement</p>
                    <a href="{{ path('app_createProfile') }}">Créer votre premier profil</a>
                </div>
            {% else %}
                <h3>Liste des profils liés à votre compte</h3>
                <ul>
                    {% for userProfile in user.userProfiles %}
                        {{ dump(userProfile.profile) }}
                        {{ dump(userProfile) }}
                            <li>
                                <p>{{ userProfile.profile.uuid }}</p>
                                {% if userProfile.isOwner %}
                                    <p>Vous êtes le propriétaire de ce profil</p>
                                {% endif %}
                                {% if userProfile.isActive %}
                                    <p>Actif</p>
                                {% endif %}
                                {% if userProfile.priority == null %}
                                    <p>Priorité : non définie</p>
                                {% else %}
                                    <p>Priorité : {{ userProfile.priority }}</p>
                                {% endif %}
                            </li>
                    {% endfor %}
                </ul>
                <a href="{{ path('profile_bundle_createProfile') }}">Créer un nouveau profil</a>
        {% endif %}
    </div>
{% endblock %}